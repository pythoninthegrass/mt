<!-- Modal Wrapper - Can be used for any modal content -->
<div class="fixed inset-0 z-50 overflow-y-auto"
     x-data="{ open: true }"
     x-show="open"
     @keydown.escape.window="open = false; $el.remove()">
    
    <!-- Background Overlay -->
    <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity"
         x-show="open"
         x-transition:enter="ease-out duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         x-transition:leave="ease-in duration-200"
         x-transition:leave-start="opacity-100"
         x-transition:leave-end="opacity-0"
         @click="open = false; $el.remove()"></div>
    
    <!-- Modal Content -->
    <div class="relative min-h-screen flex items-center justify-center p-4">
        <div class="relative bg-gray-900 rounded-lg shadow-xl border border-gray-800 max-w-lg w-full"
             x-show="open"
             x-transition:enter="ease-out duration-300"
             x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
             x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
             x-transition:leave="ease-in duration-200"
             x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
             x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
             @click.stop>
            
            <!-- Modal Header -->
            <div class="flex items-center justify-between p-4 border-b border-gray-800">
                <h3 class="text-lg font-semibold">{{ modal_title|default('Modal') }}</h3>
                <button @click="open = false; setTimeout(() => $el.remove(), 200)"
                        class="p-1 rounded hover:bg-gray-800 transition-colors">
                    <i class="bi bi-x-lg text-gray-400"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="p-4">
                {% block modal_content %}
                    <!-- Content will be injected here -->
                {% endblock %}
            </div>
            
            <!-- Modal Footer (optional) -->
            {% block modal_footer %}
                {% if show_footer|default(true) %}
                    <div class="flex justify-end space-x-2 p-4 border-t border-gray-800">
                        <button @click="open = false; setTimeout(() => $el.remove(), 200)"
                                class="px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded transition-colors">
                            Cancel
                        </button>
                        {% block modal_actions %}
                            <!-- Action buttons will be injected here -->
                        {% endblock %}
                    </div>
                {% endif %}
            {% endblock %}
        </div>
    </div>
</div>